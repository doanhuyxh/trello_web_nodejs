{"ast":null,"code":"import axios from \"axios\";\nconst apiInstance = axios.create({\n  baseURL: process.env.REACT_APP_BASE_API,\n  validateStatus: status => status <= 500\n});\napiInstance.interceptors.request.use(request => {\n  return request;\n});\nexport const tokenRequestInterceptor = async (apiCall, refreshToken) => {\n  const {\n    status,\n    data\n  } = await apiCall();\n  if (status === 401) {\n    refreshToken();\n    return await apiCall();\n  } else {\n    return {\n      status,\n      data\n    };\n  }\n};\n// Authenticate\nexport const login = formData => apiInstance.post(\"/auth/login\", {\n  ...formData\n}, {\n  withCredentials: true\n});\nexport const register = formData => apiInstance.post(\"/auth/register\", {\n  ...formData\n});\nexport const changePassword = (formData, token) => apiInstance.put(\"/auth/update-password\", {\n  ...formData\n}, {\n  headers: {\n    \"Authorization\": `Bearer ${token}`\n  }\n});\nexport const refreshToken = () => apiInstance.get(\"/auth/refresh-token\", {\n  withCredentials: true\n});\nexport const logout = refreshToken => apiInstance.post(\"/auth/logout\", {\n  ...refreshToken\n}, {\n  withCredentials: true\n});\n\n// Users\nexport const getAllUser = token => apiInstance.get(\"/users/\", {\n  headers: {\n    Authorization: `Bearer ${token}`\n  }\n});\nexport const deleteUser = (token, id) => apiInstance.delete(`/users/${id}`, {\n  headers: {\n    Authorization: `Bearer ${token}`\n  }\n});\nexport const reactiveUser = (token, id) => apiInstance.get(`/users/reactive/${id}`, {\n  headers: {\n    Authorization: `Bearer ${token}`\n  }\n});\nexport const getSingleUser = (token, id) => apiInstance.get(`/users/${id}`, {\n  headers: {\n    Authorization: `Bearer ${token}`\n  }\n});\nexport const updateUser = (formData, id, token) => apiInstance.put(`/users/update/${id}`, {\n  ...formData\n}, {\n  headers: {\n    Authorization: `Bearer ${token}`\n  }\n});","map":{"version":3,"names":["axios","apiInstance","create","baseURL","process","env","REACT_APP_BASE_API","validateStatus","status","interceptors","request","use","tokenRequestInterceptor","apiCall","refreshToken","data","login","formData","post","withCredentials","register","changePassword","token","put","headers","get","logout","getAllUser","Authorization","deleteUser","id","delete","reactiveUser","getSingleUser","updateUser"],"sources":["D:/WebNodeJs/node18/trelo_project/front_end/src/apiServices/index.js"],"sourcesContent":["import axios from \"axios\";\n\nconst apiInstance = axios.create({\n  baseURL: process.env.REACT_APP_BASE_API,\n  validateStatus: (status) => status <= 500,\n});\n\napiInstance.interceptors.request.use((request) => {\n  return request;\n});\n\nexport const tokenRequestInterceptor = async (apiCall, refreshToken) => {\n  const { status, data } = await apiCall();\n  if (status === 401) {\n    refreshToken();\n    return await apiCall();\n  } else {\n    return { status, data };\n  }\n};\n// Authenticate\nexport const login = (formData) =>\n  apiInstance.post(\"/auth/login\", { ...formData }, {withCredentials: true});\nexport const register = (formData) =>\n  apiInstance.post(\"/auth/register\", { ...formData });\n\nexport const changePassword = (formData, token) =>\n  apiInstance.put(\"/auth/update-password\", { ...formData }, {headers: {\n    \"Authorization\": `Bearer ${token}`\n  }});\n\nexport const refreshToken = () =>\n  apiInstance.get(\"/auth/refresh-token\", {withCredentials: true});\n\nexport const logout = (refreshToken) =>\n  apiInstance.post(\"/auth/logout\", { ...refreshToken }, {withCredentials: true});\n\n// Users\nexport const getAllUser = (token) =>\n  apiInstance.get(\"/users/\", {\n    headers: { Authorization: `Bearer ${token}` },\n  });\n\nexport const deleteUser = (token, id) =>\n  apiInstance.delete(`/users/${id}`, {\n    headers: { Authorization: `Bearer ${token}` },\n  });\nexport const reactiveUser = (token, id) =>\n  apiInstance.get(`/users/reactive/${id}`, {\n    headers: { Authorization: `Bearer ${token}` },\n  });\n\nexport const getSingleUser = (token, id) =>\n  apiInstance.get(`/users/${id}`, {\n    headers: { Authorization: `Bearer ${token}` },\n  });\n\nexport const updateUser = (formData, id, token) =>\n  apiInstance.put(\n    `/users/update/${id}`,\n    { ...formData },\n    {\n      headers: { Authorization: `Bearer ${token}` },\n    }\n  );\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,WAAW,GAAGD,KAAK,CAACE,MAAM,CAAC;EAC/BC,OAAO,EAAEC,OAAO,CAACC,GAAG,CAACC,kBAAkB;EACvCC,cAAc,EAAGC,MAAM,IAAKA,MAAM,IAAI;AACxC,CAAC,CAAC;AAEFP,WAAW,CAACQ,YAAY,CAACC,OAAO,CAACC,GAAG,CAAED,OAAO,IAAK;EAChD,OAAOA,OAAO;AAChB,CAAC,CAAC;AAEF,OAAO,MAAME,uBAAuB,GAAG,MAAAA,CAAOC,OAAO,EAAEC,YAAY,KAAK;EACtE,MAAM;IAAEN,MAAM;IAAEO;EAAK,CAAC,GAAG,MAAMF,OAAO,CAAC,CAAC;EACxC,IAAIL,MAAM,KAAK,GAAG,EAAE;IAClBM,YAAY,CAAC,CAAC;IACd,OAAO,MAAMD,OAAO,CAAC,CAAC;EACxB,CAAC,MAAM;IACL,OAAO;MAAEL,MAAM;MAAEO;IAAK,CAAC;EACzB;AACF,CAAC;AACD;AACA,OAAO,MAAMC,KAAK,GAAIC,QAAQ,IAC5BhB,WAAW,CAACiB,IAAI,CAAC,aAAa,EAAE;EAAE,GAAGD;AAAS,CAAC,EAAE;EAACE,eAAe,EAAE;AAAI,CAAC,CAAC;AAC3E,OAAO,MAAMC,QAAQ,GAAIH,QAAQ,IAC/BhB,WAAW,CAACiB,IAAI,CAAC,gBAAgB,EAAE;EAAE,GAAGD;AAAS,CAAC,CAAC;AAErD,OAAO,MAAMI,cAAc,GAAGA,CAACJ,QAAQ,EAAEK,KAAK,KAC5CrB,WAAW,CAACsB,GAAG,CAAC,uBAAuB,EAAE;EAAE,GAAGN;AAAS,CAAC,EAAE;EAACO,OAAO,EAAE;IAClE,eAAe,EAAG,UAASF,KAAM;EACnC;AAAC,CAAC,CAAC;AAEL,OAAO,MAAMR,YAAY,GAAGA,CAAA,KAC1Bb,WAAW,CAACwB,GAAG,CAAC,qBAAqB,EAAE;EAACN,eAAe,EAAE;AAAI,CAAC,CAAC;AAEjE,OAAO,MAAMO,MAAM,GAAIZ,YAAY,IACjCb,WAAW,CAACiB,IAAI,CAAC,cAAc,EAAE;EAAE,GAAGJ;AAAa,CAAC,EAAE;EAACK,eAAe,EAAE;AAAI,CAAC,CAAC;;AAEhF;AACA,OAAO,MAAMQ,UAAU,GAAIL,KAAK,IAC9BrB,WAAW,CAACwB,GAAG,CAAC,SAAS,EAAE;EACzBD,OAAO,EAAE;IAAEI,aAAa,EAAG,UAASN,KAAM;EAAE;AAC9C,CAAC,CAAC;AAEJ,OAAO,MAAMO,UAAU,GAAGA,CAACP,KAAK,EAAEQ,EAAE,KAClC7B,WAAW,CAAC8B,MAAM,CAAE,UAASD,EAAG,EAAC,EAAE;EACjCN,OAAO,EAAE;IAAEI,aAAa,EAAG,UAASN,KAAM;EAAE;AAC9C,CAAC,CAAC;AACJ,OAAO,MAAMU,YAAY,GAAGA,CAACV,KAAK,EAAEQ,EAAE,KACpC7B,WAAW,CAACwB,GAAG,CAAE,mBAAkBK,EAAG,EAAC,EAAE;EACvCN,OAAO,EAAE;IAAEI,aAAa,EAAG,UAASN,KAAM;EAAE;AAC9C,CAAC,CAAC;AAEJ,OAAO,MAAMW,aAAa,GAAGA,CAACX,KAAK,EAAEQ,EAAE,KACrC7B,WAAW,CAACwB,GAAG,CAAE,UAASK,EAAG,EAAC,EAAE;EAC9BN,OAAO,EAAE;IAAEI,aAAa,EAAG,UAASN,KAAM;EAAE;AAC9C,CAAC,CAAC;AAEJ,OAAO,MAAMY,UAAU,GAAGA,CAACjB,QAAQ,EAAEa,EAAE,EAAER,KAAK,KAC5CrB,WAAW,CAACsB,GAAG,CACZ,iBAAgBO,EAAG,EAAC,EACrB;EAAE,GAAGb;AAAS,CAAC,EACf;EACEO,OAAO,EAAE;IAAEI,aAAa,EAAG,UAASN,KAAM;EAAE;AAC9C,CACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}